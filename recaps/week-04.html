<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Week 04 Fantasy Recap</title>
  <meta name="description" content="Week 4 fantasy basketball recap." />
  <meta name="referrer" content="no-referrer" />
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèÄ</text></svg>" />
  <link rel="stylesheet" href="../assets/css/style.css" />
  <!-- Marked for Markdown parsing -->
  <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
  <!-- DOMPurify for safe HTML sanitization -->
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.6/dist/purify.min.js"></script>
</head>
<body>
  <header class="site-header">
    <h1>üèÄ Fantasy Week 04 Recap</h1>
    <p class="sub">Full weekly breakdown and analysis</p>
  </header>

  <main class="container">
    <!-- Hero Summary Card -->
    <section id="hero-summary" class="card hero-card">
      <div class="hero-header">
        <h1 id="hero-title" class="hero-title">üèÄ Fantasy Week 04 Overview</h1>
        <div id="hero-stats" class="hero-stats">
          <div class="stat-item">
            <span class="stat-label">Team of the Week:</span>
            <span id="stat-top-team" class="stat-value">Los Suns de PFKNR with 833.0 pts</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">MVP:</span>
            <span id="stat-mvp" class="stat-value">Nikola Jokic (Champion DX S*CK IT ) with 158.0 pts</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Beatdown:</span>
            <span id="stat-beatdown" class="stat-value">El TumbaCuello üèÜ (762.0) obliterated Ringo's Cool Team (528.0) by 234 pts</span>
          </div>
          <div class="stat-item">
            <span class="stat-label">Closest:</span>
            <span id="stat-closest" class="stat-value">La Guillotina (757.0) def. BBQ CHICKEN HOSPITAL (691.0) ‚Äî margin 66 pts</span>
          </div>
        </div>
      </div>
      <div id="week-nav" class="week-nav">
        <a href="../index.html" class="btn" style="margin-right: auto;">‚Üê Back to Home</a>
        <a href="week-03.html" class="nav-btn">‚¨Ö Week 03</a>
        <select id="week-select" class="week-select">
          <option value="16" >Week 16</option><option value="15" >Week 15</option><option value="14" >Week 14</option><option value="13" >Week 13</option><option value="12" >Week 12</option><option value="11" >Week 11</option><option value="10" >Week 10</option><option value="9" >Week 09</option><option value="8" >Week 08</option><option value="7" >Week 07</option><option value="6" >Week 06</option><option value="5" >Week 05</option><option value="4" selected>Week 04</option><option value="3" >Week 03</option><option value="2" >Week 02</option><option value="1" >Week 01</option>
        </select>
        <a href="week-05.html" class="nav-btn">Week 05 ‚û°</a>
      </div>
    </section>

    <!-- Weekly Recap -->
    <section class="card recap-section">
      <div class="recap-divider">
        <span class="divider-line"></span>
        <h2 class="divider-title">WEEKLY RECAP</h2>
        <span class="divider-line"></span>
      </div>
      <div id="recap-actions" class="recap-actions">
        <button id="copy-recap" class="btn">Copy Recap (MD)</button>
        <button id="save-recap" class="btn">Download recap.md</button>
      </div>
      <div id="recap" class="md"></div>
    </section>
  </main>

  <footer class="site-footer">
    <small>Fantasy Weekly Recaps ‚Ä¢ Mobile-friendly ‚Ä¢ WhatsApp-optimized</small>
  </footer>

  <script>
    // Embedded markdown content
    const markdownContent = "# FANTASY WEEK 4 RECAP\n\n## \ud83c\udfc6 League Standings\n\n```\n standing_rank                       team_name      record\n             1              Barrio Cerrillos \ud83c\udfc6 5-0-0 (1.0)\n             2               Los Suns de PFKNR 5-0-0 (1.0)\n             3              Minneapolis Lakers 4-1-0 (0.8)\n             4              Las Villas ENDGAME 4-1-0 (0.8)\n             5             Morovis  El Calor \ud83c\udfc6 3-2-0 (0.6)\n             6                El TumbaCuello \ud83c\udfc6 3-2-0 (0.6)\n             7                 Reaves's Pieces 3-2-0 (0.6)\n             8            BBQ CHICKEN HOSPITAL 3-2-0 (0.6)\n             9                     El Mostroso 2-3-0 (0.4)\n            10                   La Guillotina 1-4-0 (0.2)\n            11            Champion DX S*CK IT  1-4-0 (0.2)\n            12 Bench warming brick layers unit 1-4-0 (0.2)\n            13               Ringo's Cool Team 0-5-0 (0.0)\n            14      Morrisville Rehab Facility 0-5-0 (0.0)\n```\n\n## \ud83d\udcaa Weekly Power Ranking (Season-Adjusted Power Score)\n\n```\n power_rank                       team_name  week_points  power_score movement\n          1               Los Suns de PFKNR        833.0     0.771743     ^ +1\n          2              Minneapolis Lakers        742.0     0.768947     v -1\n          3              Barrio Cerrillos \ud83c\udfc6        783.0     0.754196        -\n          4             Morovis  El Calor \ud83c\udfc6        908.0     0.751535     ^ +1\n          5                     El Mostroso        907.0     0.683328     ^ +2\n          6                El TumbaCuello \ud83c\udfc6        762.0     0.665752     ^ +3\n          7              Las Villas ENDGAME        794.0     0.654101     v -1\n          8            BBQ CHICKEN HOSPITAL        691.0     0.566473     v -4\n          9                 Reaves's Pieces        719.0     0.512626     v -1\n         10                   La Guillotina        757.0     0.371366        -\n         11      Morrisville Rehab Facility        682.0     0.221579     ^ +2\n         12               Ringo's Cool Team        528.0     0.200057     v -1\n         13            Champion DX S*CK IT         568.0     0.184204     v -1\n         14 Bench warming brick layers unit        592.0     0.182868        -\n```\n\n## \ud83d\udd25 Top 10 Players of the Week\n\n```\n player_rank_week             player_name  fantasy_points                       team_name\n                1            Nikola Jokic           158.0            Champion DX S*CK IT \n                2            James Harden           153.0              Las Villas ENDGAME\n                3           Jalen Johnson           150.0                     El Mostroso\n                4         Lauri Markkanen           131.0                El TumbaCuello \ud83c\udfc6\n                5             Luka Doncic           122.0               Los Suns de PFKNR\n                6       Victor Wembanyama           120.0 Bench warming brick layers unit\n                7 Shai Gilgeous-Alexander           109.0              Minneapolis Lakers\n                8          Onyeka Okongwu           105.0              Las Villas ENDGAME\n                9        Jimmy Butler III           104.0 Bench warming brick layers unit\n               10            Franz Wagner           103.0            BBQ CHICKEN HOSPITAL\n```\n\n## \ud83d\udcd6 Storylines\n\n- **Team of the Week:** Los Suns de PFKNR with 833.0 pts\n- **Weekly MVP:** Nikola Jokic (Champion DX S*CK IT ) with 158.0 pts\n- **Closest Matchup:** La Guillotina (757.0) def. BBQ CHICKEN HOSPITAL (691.0) \u2014 margin 66 pts\n- **Biggest Beatdown:** El TumbaCuello \ud83c\udfc6 (762.0) obliterated Ringo's Cool Team (528.0) by 234 pts\n\n## \ud83c\udfe5 Injury Watch\n\n**Most Affected:** Reaves's Pieces \u2014 3 injured players, 6.0 games missed \u2192 ~276.0 FP lost (38.4% of team output).\n\n\ud83e\uddbe **Ironman Award:** Bench warming brick layers unit, Las Villas ENDGAME, Los Suns de PFKNR, Ringo's Cool Team, Champion DX S*CK IT \n\n**Notable Absences:**\n\n- \ud83e\ude7c Jalen Green (O), 3.0 missed, ~138.0 FP impact\n- \ud83e\ude7c Dejounte Murray (O), 3.0 missed, ~138.0 FP impact\n- \ud83e\ude7c Scotty Pippen Jr. (O), 3.0 missed, ~138.0 FP impact\n- \ud83e\ude7c Kyrie Irving (O), 3.0 missed, ~138.0 FP impact\n- \ud83d\ude37 LeBron James (DTD), 3.0 missed, ~138.0 FP impact\n- \ud83e\ude7c Jayson Tatum (O), 3.0 missed, ~138.0 FP impact\n\n**Injury Heat Map:**\n\n- BBQ CHICKEN HOSPITAL: LeBron James (DTD)  Isaiah Hartenstein (O)  Jrue Holiday (O)  P.J. Washington (DTD)  Obi Toppin (O)\n- Barrio Cerrillos: Jarrett Allen (O)  Joel Embiid (O)  Aaron Gordon (O)\n- Bench warming brick layers unit: Victor Wembanyama (O)  OG Anunoby (O)  Daniel Gafford (DTD)  Tari Eason (O)\n- El Mostroso: Trae Young (O)  Mark Williams (DTD)\n- El TumbaCuello: Anthony Davis (DTD)  Jalen Duren (DTD)  Coby White (DTD)  Stephon Castle (O)  Egor Demin (DTD)\n- La Guillotina: Michael Porter Jr. (DTD)  Jordan Poole (O)  Kyrie Irving (O)\n- Las Villas ENDGAME: Stephen Curry (O)  Kristaps Porzingis (O)  Kelly Oubre Jr. (O)  VJ Edgecombe (O)\n- Los Suns de PFKNR: Donovan Clingan (DTD)  Dennis Schroder (DTD)  Ryan Dunn (O)\n- Minneapolis Lakers: Cam Thomas (O)  Sam Merrill (O)\n- Morovis El Calor: Domantas Sabonis (O)  Jaime Jaquez Jr. (DTD)  Jayson Tatum (O)\n- Morrisville Rehab Facility: Paolo Banchero (O)  Ja Morant (O)  Trey Murphy III (DTD)  Dejounte Murray (O)  Andre Drummond (DTD)\n- Reaves's Pieces: Jalen Green (O)  Keyonte George (DTD)  Scotty Pippen Jr. (O)\n- Ringo's Cool Team: RJ Barrett (O)  Dereck Lively II (O)\n\n**Tough Break of the Week:** Reaves's Pieces lost both Jalen Green and Scotty Pippen Jr. this week \u2014 the fantasy gods were cruel.\n\n## \u2699\ufe0f Efficiency & Chaos Report\n\n```\n                      team_name  efficiency  active_points  bench_points\n           BBQ CHICKEN HOSPITAL       100.0          691.0           0.0\n             Barrio Cerrillos \ud83c\udfc6       100.0          783.0           0.0\nBench warming brick layers unit       100.0          592.0           0.0\n           Champion DX S*CK IT        100.0          568.0           0.0\n                    El Mostroso       100.0          907.0           0.0\n               El TumbaCuello \ud83c\udfc6       100.0          762.0           0.0\n                  La Guillotina       100.0          757.0           0.0\n             Las Villas ENDGAME       100.0          794.0           0.0\n              Los Suns de PFKNR       100.0          833.0           0.0\n             Minneapolis Lakers       100.0          742.0           0.0\n            Morovis  El Calor \ud83c\udfc6       100.0          908.0           0.0\n     Morrisville Rehab Facility       100.0          682.0           0.0\n                Reaves's Pieces       100.0          719.0           0.0\n              Ringo's Cool Team       100.0          528.0           0.0\n```\n\n\ud83c\udfc5 Bench Hero: \u2014\n\ud83e\ude91 Bench Warmer of the Week: \u2014\n**\ud83d\udd25 Dumpster Fire Trophy:** Ringo's Cool Team \u2014 lowest combo of points & efficiency\n\n\u2705 **Lineup perfection!** Every manager started all their points. Keeping a close eye on any future slackers \ud83d\ude04\n\n## \ud83d\udcc8 Overperformers (per-game heater vs season avg)\n\n```\n            player_name                       team_name  week_pg  exp_pg  +/- pg  gp  fantasy_points\n           James Harden              Las Villas ENDGAME    153.0    25.4   127.6   1           153.0\n          Jalen Johnson                     El Mostroso    150.0    27.4   122.6   1           150.0\n           Nikola Jokic            Champion DX S*CK IT     158.0    39.2   118.8   1           158.0\n        Lauri Markkanen                El TumbaCuello \ud83c\udfc6    131.0    31.0   100.0   1           131.0\n         Shaedon Sharpe             Morovis  El Calor \ud83c\udfc6    101.0    10.2    90.8   1           101.0\n         Onyeka Okongwu              Las Villas ENDGAME    105.0    21.7    83.3   1           105.0\n            Deni Avdija               Los Suns de PFKNR    103.0    21.2    81.8   1           103.0\n           Franz Wagner            BBQ CHICKEN HOSPITAL    103.0    21.2    81.8   1           103.0\n          Miles Bridges              Minneapolis Lakers     98.0    17.6    80.4   1            98.0\n       Jimmy Butler III Bench warming brick layers unit    104.0    24.2    79.8   1           104.0\n            Ivica Zubac             Morovis  El Calor \ud83c\udfc6    100.0    22.0    78.0   1           100.0\n      Victor Wembanyama Bench warming brick layers unit    120.0    42.2    77.8   1           120.0\n        Trey Murphy III      Morrisville Rehab Facility     93.0    16.0    77.0   1            93.0\n       Domantas Sabonis             Morovis  El Calor \ud83c\udfc6     98.0    21.8    76.2   1            98.0\nShai Gilgeous-Alexander              Minneapolis Lakers    109.0    33.5    75.5   1           109.0\n```\n\n## \ud83d\ude2c Underperformers (per-game slump vs season avg)\n\n```\n      player_name            team_name  week_pg  exp_pg  +/- pg  gp  fantasy_points\n       Yves Missi   Las Villas ENDGAME     -1.0    13.2   -14.2   1            -1.0\nJulian Champagnie   Las Villas ENDGAME     -2.0    12.2   -14.2   1            -2.0\n    Anthony Black   Las Villas ENDGAME      0.0    11.2   -11.2   1             0.0\n      Josh Minott  Morovis  El Calor \ud83c\udfc6      4.0    14.4   -10.4   1             4.0\n    Peyton Watson Champion DX S*CK IT       1.0    11.2   -10.2   1             1.0\n    Jarace Walker   Barrio Cerrillos \ud83c\udfc6      4.0    12.4    -8.4   1             4.0\n     Jake LaRavia    Ringo's Cool Team      5.0    13.3    -8.3   1             5.0\n  Kelly Oubre Jr.   Las Villas ENDGAME     12.0    20.2    -8.2   1            12.0\n      Alex Caruso   Las Villas ENDGAME      0.0     7.7    -7.7   1             0.0\n Jonathan Kuminga BBQ CHICKEN HOSPITAL     14.0    21.0    -7.0   1            14.0\n Tim Hardaway Jr.          El Mostroso      3.0     9.4    -6.4   1             3.0\n Craig Porter Jr.   Las Villas ENDGAME      3.0     9.3    -6.3   1             3.0\n       Isaiah Joe    Los Suns de PFKNR     16.0    22.0    -6.0   1            16.0\n  Cameron Johnson   Barrio Cerrillos \ud83c\udfc6      3.0     8.4    -5.4   1             3.0\n     Terance Mann   Las Villas ENDGAME      9.0    14.2    -5.2   1             9.0\n```\n\n## \ud83e\udde9 Free Agent Watch (top unrostered performers)\n\n```\n      player_name  expected_fp_per_game\n   Walker Kessler                  24.8\n     Steven Adams                  18.5\n     Cole Anthony                  16.2\nMitchell Robinson                  15.0\nSimone Fontecchio                  14.8\n     Terance Mann                  14.2\n   Isaiah Stewart                  13.4\n     Jake LaRavia                  13.3\n   Day'Ron Sharpe                  13.2\n  Khris Middleton                  12.8\n      Tre Johnson                  12.6\n    Jarace Walker                  12.4\nDerrick Jones Jr.                  12.2\n     Goga Bitadze                  12.2\n       Tolu Smith                  12.0\n```\n\n## \ud83d\udcca GM Activity (Waivers & Moves)\n\nQuiet week on the wire \u2014 no notable waiver or trade activity.\n\n## \ud83d\udcc5 Schedule Difficulty (Last 5 weeks (Weeks 1\u20134)):\n\n\u2022 Toughest Schedule: Champion DX S*CK IT  \u2014 difficulty 50.0 (avg opponent power: 0.5)\n\n\u2022 Easiest Schedule: Barrio Cerrillos \ud83c\udfc6 \u2014 difficulty 43.3 (avg opponent power: 0.5)\n\n\n**Top 3 Toughest Schedules:**\n\n  Champion DX S*CK IT : 50.0 difficulty\n\n  Bench warming brick layers unit: 49.5 difficulty\n\n  Morrisville Rehab Facility: 49.5 difficulty\n\n## \ud83d\udd2e Matchup Projections \u2013 Week 5 Preview\n\n\u2022 Reaves's Pieces vs Barrio Cerrillos \ud83c\udfc6: **Reaves's Pieces** favored 697.8 \u2013 653.7 (\u0394 44.0) (60.1% / 39.9%) [Slight favorite] (\u26a0\ufe0f upset watch)\n\n\u2022 Champion DX S*CK IT  vs Las Villas ENDGAME: **Las Villas ENDGAME** favored 776.4 \u2013 550.0 (\u0394 226.5) (12.4% / 87.6%) [Heavy favorite]\n\n\u2022 El Mostroso vs Los Suns de PFKNR: **El Mostroso** favored 677.0 \u2013 636.6 (\u0394 40.5) (58.0% / 42.0%) [Slight favorite] (\u26a0\ufe0f upset watch)\n\n\u2022 Morovis  El Calor \ud83c\udfc6 vs Ringo's Cool Team: **Morovis  El Calor \ud83c\udfc6** favored 602.0 \u2013 585.1 (\u0394 16.9) (53.2% / 46.8%) [Toss-up] (\u26a0\ufe0f upset watch)\n\n\u2022 Morrisville Rehab Facility vs Minneapolis Lakers: **Minneapolis Lakers** favored 712.5 \u2013 611.0 (\u0394 101.5) (28.9% / 71.1%) [Heavy favorite]\n\n\u2022 El TumbaCuello \ud83c\udfc6 vs La Guillotina: **El TumbaCuello \ud83c\udfc6** favored 647.9 \u2013 556.9 (\u0394 91.0) (70.2% / 29.8%) [Strong favorite] (\u26a0\ufe0f upset watch)\n\n\u2022 Bench warming brick layers unit vs BBQ CHICKEN HOSPITAL: **Bench warming brick layers unit** favored 682.1 \u2013 651.0 (\u0394 31.1) (56.6% / 43.4%) [Slight favorite] (\u26a0\ufe0f upset watch)\n\n\n_Data captured 2025-11-30 11:24_\n";
    const CURRENT_WEEK = 4;
    
    // Make recap sections collapsible (only specific sections)
    function makeRecapCollapsible() {
      const host = document.getElementById('recap');
      if (!host) return;
      
      // List of section emojis/prefixes that should be collapsible
      const collapsibleSections = [
        'üèÜ League Standings',
        'üí™ Weekly Power Ranking',
        'üî• Top 10 Players',
        'üè• Injury Watch',
        '‚öôÔ∏è Efficiency & Chaos',
        'üìà Overperformers',
        'üò¨ Underperformers',
        'üß© Free Agent Watch'
      ];
      
      // Convert NodeList to array since we'll be modifying the DOM
      const headings = Array.from(host.querySelectorAll('h2, h3'));
      const processedHeadings = [];
      
      headings.forEach(h => {
        // Skip if heading is already inside a details element
        if (h.closest('details')) return;
        
        // Get text content, handling cases where marked.js wraps text in anchor tags
        let headingText = h.textContent.trim();
        
        // Remove any ID links that marked.js might add
        const anchor = h.querySelector('a');
        if (anchor) {
          headingText = anchor.textContent.trim();
        }
        
        // Normalize whitespace
        headingText = headingText.replace(/\s+/g, ' ').trim();
        
        // Check if this heading should be collapsible
        const shouldCollapse = collapsibleSections.some(section => {
          const normalizedSection = section.replace(/\s+/g, ' ').trim();
          return headingText === normalizedSection || 
                 headingText.startsWith(normalizedSection) || 
                 headingText.includes(normalizedSection);
        });
        
        if (!shouldCollapse) return;
        
        // Skip if already processed
        if (processedHeadings.includes(h)) return;
        processedHeadings.push(h);
        
        const next = h.nextElementSibling;
        if (!next) return;
        
        const details = document.createElement('details');
        // Start collapsed by default to reduce visual overwhelm
        details.open = false;
        const summary = document.createElement('summary');
        summary.textContent = headingText;
        details.appendChild(summary);
        
        // Move following siblings until the next heading of same or higher level
        let cur = next;
        const headingLevel = parseInt(h.tagName.charAt(1));
        
        while (cur) {
          const isHeading = /^H[1-6]$/.test(cur.tagName);
          if (isHeading) {
            const curLevel = parseInt(cur.tagName.charAt(1));
            // Stop if we hit a heading of same or higher level
            if (curLevel <= headingLevel) break;
          }
          
          const n = cur.nextElementSibling;
          details.appendChild(cur);
          cur = n;
        }
        
        h.replaceWith(details);
      });
    }
    
    // Configure marked
    marked.setOptions({
      breaks: true,
      gfm: true,
      headerIds: true,
      mangle: false
    });
    
    // Render markdown
    const html = marked.parse(markdownContent);
    const sanitized = DOMPurify.sanitize(html);
    document.getElementById('recap').innerHTML = sanitized;
    
    // Make sections collapsible after rendering
    setTimeout(() => {
      makeRecapCollapsible();
    }, 0);
    
    // Copy/download button handlers
    document.getElementById('copy-recap').addEventListener('click', async function() {
      try {
        await navigator.clipboard.writeText(markdownContent);
        const btn = this;
        const originalText = btn.textContent;
        btn.textContent = 'Copied! ‚úÖ';
        setTimeout(() => {
          btn.textContent = originalText;
        }, 2000);
      } catch (err) {
        console.error('Failed to copy:', err);
        alert('Failed to copy to clipboard');
      }
    });
    
    document.getElementById('save-recap').addEventListener('click', function() {
      const blob = new Blob([markdownContent], { type: 'text/markdown;charset=utf-8' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = `recap_week_${String(CURRENT_WEEK).padStart(2, '0')}.md`;
      a.click();
      URL.revokeObjectURL(a.href);
    });
    
    // Week selector navigation
    document.getElementById('week-select').addEventListener('change', function(e) {
      const week = parseInt(e.target.value);
      window.location.href = `week-${String(week).padStart(2, '0')}.html`;
    });
  </script>
</body>
</html>